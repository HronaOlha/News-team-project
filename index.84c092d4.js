!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequired7c6=s),s("l1mIK"),s("hkain");var l=s("bpxeT"),r=s("2TvXO"),c=s("eFrT6"),i=s("bpdv1"),o=s("79A4R"),d=(l=s("bpxeT"),s("8nrFW")),u=(r=s("2TvXO"),c=s("eFrT6"),o=s("79A4R"),document.querySelector(".gallery-container")),v=document.querySelector(".prev_container"),h=document.querySelector(".next_container"),p=document.querySelector(".item_container");function g(){return m.apply(this,arguments)}function m(){return(m=e(l)(e(r).mark((function t(){var n,a;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.fetchNews.getHits(),a=Math.ceil(n/8),c.fetchNews.page=0,b(a);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=e(l)(e(r).mark((function t(){var n,a,s;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.fetchNews.incrementPage(),(0,o.deleteNewsCards)(),!c.fetchNews.getUrl().includes("articlesearch")){e.next=25;break}return c.fetchNews.resetData(),c.fetchNews.resetStorageData(),e.prev=5,e.next=8,c.fetchNews.fetchPagination();case 8:if((n=e.sent).data.response.docs.length){e.next=12;break}return console.log("закінчились новини"),e.abrupt("return");case 12:a=n.data,s=a.response.docs,(0,o.saveSearchData)(s),(0,o.renderNewsCards)(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),console.log(e.t0);case 23:e.next=26;break;case 25:c.fetchNews.isUrlRequest?(S(c.fetchNews.getStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)()):(S(c.fetchNews.getFiltredStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!1),(0,o.addClassesForCoincidencesMarkupAndStorage)());case 26:case"end":return e.stop()}}),t,null,[[5,20]])})))).apply(this,arguments)}function y(){return(y=e(l)(e(r).mark((function t(){var n,a,s;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.fetchNews.decrementPage(),(0,o.deleteNewsCards)(),!c.fetchNews.getUrl().includes("articlesearch")){e.next=25;break}return c.fetchNews.resetData(),c.fetchNews.resetStorageData(),e.prev=5,e.next=8,c.fetchNews.fetchPagination();case 8:if((n=e.sent).data.response.docs.length){e.next=12;break}return console.log("закінчились новини"),e.abrupt("return");case 12:a=n.data,s=a.response.docs,(0,o.saveSearchData)(s),(0,o.renderNewsCards)(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),console.log(e.t0);case 23:e.next=26;break;case 25:c.fetchNews.isUrlRequest?(S(c.fetchNews.getStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)()):(S(c.fetchNews.getFiltredStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!1),(0,o.addClassesForCoincidencesMarkupAndStorage)());case 26:case"end":return e.stop()}}),t,null,[[5,20]])})))).apply(this,arguments)}function C(){return(C=e(l)(e(r).mark((function t(n){var a,s,l;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.fetchNews.setPage(Number(n.target.textContent)-1),(0,o.deleteNewsCards)(),!c.fetchNews.getUrl().includes("articlesearch")){e.next=25;break}return c.fetchNews.resetData(),c.fetchNews.resetStorageData(),e.prev=5,e.next=8,c.fetchNews.fetchPagination();case 8:if((a=e.sent).data.response.docs.length){e.next=12;break}return console.log("закінчились новини"),e.abrupt("return");case 12:s=a.data,l=s.response.docs,(0,o.saveSearchData)(l),(0,o.renderNewsCards)(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),console.log(e.t0);case 23:e.next=26;break;case 25:c.fetchNews.isUrlRequest?(S(c.fetchNews.getStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)()):(S(c.fetchNews.getFiltredStorageData()),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!1),(0,o.addClassesForCoincidencesMarkupAndStorage)());case 26:case"end":return e.stop()}}),t,null,[[5,20]])})))).apply(this,arguments)}function S(t){for(var n=e(d)(t),a=function(e){for(var t=[],n=0;n<e.length;n+=8)t.push(e.slice(n,n+8));return t}(n),s=[],l=0;l<n.length;l++)a[c.fetchNews.getPage()][l]&&s.push(a[c.fetchNews.getPage()][l]);var r=s.reduce((function(e,t){return e+='<div class="news-card" news-id="'.concat(t.id,'">\n        <div class="news-card__img">\n          <p class="news-card__theme">').concat(t.category,'</p>\n          <img\n            class="news-card__item"\n            src="').concat(t.imgUrl,'"\n            alt="').concat(t.imgDescr?t.imgDescr:"photo",'"\n            loading="lazy"\n            width="395"\n          />\n          <div class="news-card__favorite">\n            <label for="favorite" id="').concat(t.id,'" class="label-favorite">Add to favorite</label>\n            <input type="checkbox" class="input-favorite" id="favorite"/>\n          </div>\n        </div>\n        <h2 class="news-card__info-title">').concat(t.title,'</h2>\n        <p class="news-card__info-text">').concat(t.description.length>180?t.description.slice(0,180)+"...":t.description,'</p>\n        <div class="news-card__additional">\n          <p class="news-card__date">').concat(t.pubDate,'</p>\n          <a class="news-card__more" href="').concat(t.url,'" id="').concat(t.id,'"target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </div>')}),"");u.insertAdjacentHTML("beforeend",r)}function w(e,t){var n=e,a="",s=t-1,l=t+1;if(e>50&&(n=50),1!==e){'<li class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </li>',v.innerHTML='<li class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </li>',t>3&&(a+='<li class="numb"><span>1</span></li> <li class="dots"><span>...</span></li>'),t===n&&(s-=1),1===t?l+=2:2===t&&(l+=1);for(var r=s;r<=l;r+=1)r>n||(0===r&&(r+=1),a+='<li class="numb '.concat(t===r?"active":"",'"><span class="pageLength">').concat(r,"</span></li>"));t<n-3&&(t<n-2&&(a+='<li class="dots"><span>...</span></li>'),a+='<li class="numb"><span>'.concat(n,"</span></li>")),'<li class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </li>',h.innerHTML='<li class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </li>',p.innerHTML=a;var c=document.querySelector(".prev");c.addEventListener("click",(function(){t>1&&w(n,t-1)}));var i=document.querySelector(".next");i.addEventListener("click",(function(){t<n&&w(n,t+1)}));var o=document.querySelectorAll(".numb"),d=Array.from(o),u=!0,g=!1,m=void 0;try{for(var f,y=d[Symbol.iterator]();!(u=(f=y.next()).done);u=!0){f.value.addEventListener("click",(function(e){var t=Number(e.target.textContent);w(n,t)}))}}catch(e){g=!0,m=e}finally{try{u||null==y.return||y.return()}finally{if(g)throw m}}if(h.classList.remove("inactiveCon"),1!==t)return t===n?(i.classList.add("inactive"),void h.classList.add("inactiveCon")):void h.classList.remove("inactiveCon");c.classList.add("inactive")}}function b(e){var t=window.matchMedia("(min-width: 768px)");function n(t){t.matches?w(e,c.fetchNews.page+1):M(e,c.fetchNews.page+1)}t.addListener(n),n(t)}function D(){v.innerHTML="",h.innerHTML="",p.innerHTML=""}function M(e,t){var n="",a=t,s=t,l=e;l>50&&(l=50),v.innerHTML='<li class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </li>',t>1&&(n+='<li class="numb"><span>1</span></li> <li class="dots"><span>...</span></li>');for(var r=a;r<=s;r+=1)r>l||(0===r&&(r+=1),n+='<li class="numb '.concat(t===r?"active":"",'"><span class="pageLength">').concat(r,"</span></li>"));t<l&&(n+='<li class="dots"><span>...</span></li>',n+='<li class="numb"><span>'.concat(l,"</span></li>")),h.innerHTML='<li class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </li>',p.innerHTML=n;var c=document.querySelector(".prev");c.addEventListener("click",(function(){t>1&&M(l,t-1)}));var i=document.querySelector(".next");i.addEventListener("click",(function(){t<l&&M(l,t+1)}));var o=document.querySelectorAll(".numb"),d=Array.from(o),u=!0,g=!1,m=void 0;try{for(var f,y=d[Symbol.iterator]();!(u=(f=y.next()).done);u=!0){f.value.addEventListener("click",(function(e){var t=Number(e.target.textContent);M(l,t)}))}}catch(e){g=!0,m=e}finally{try{u||null==y.return||y.return()}finally{if(g)throw m}}if(1!==t)return t===l?(i.classList.add("inactive"),void h.classList.add("inactiveCon")):void h.classList.remove("inactiveCon");c.classList.add("inactive")}function T(){return(T=e(l)(e(r).mark((function t(){var n;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.spinner.spin(document.body),e.prev=1,e.next=4,c.fetchNews.fetchNewsByPopular();case 4:n=e.sent,c.fetchNews.setHits(n.data.num_results),(0,o.savePopularData)(n.data.results),(0,o.renderNewsCards)(),g(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),i.spinner.stop();case 18:i.spinner.stop();case 19:case"end":return e.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}h.addEventListener("click",(function(){return f.apply(this,arguments)})),v.addEventListener("click",(function(){return y.apply(this,arguments)})),p.addEventListener("click",(function(e){return C.apply(this,arguments)})),function(){T.apply(this,arguments)}();l=s("bpxeT"),r=s("2TvXO"),c=s("eFrT6"),o=s("79A4R"),i=s("bpdv1");var N=s("fivgP"),k=document.querySelector(".search-input"),x=document.getElementById("search-form"),_=document.querySelector(".gallery >.container");function L(){return(L=e(l)(e(r).mark((function t(n){var a,s;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.fetchNews.resetData(),c.fetchNews.resetStorageData(),i.spinner.spin(document.body),e.prev=4,a=k.value){e.next=10;break}return N.Report.failure("Please enter a search term."),i.spinner.stop(),e.abrupt("return");case 10:return c.fetchNews.setQuerySearch(a),e.next=13,c.fetchNews.fetchNewsBySearch();case 13:if((s=e.sent).docs.length){e.next=19;break}return _.innerHTML="\n      <div>\n      <p>We haven’t found news from this category</p>\n      <img src='https://klike.net/uploads/posts/2020-09/1599896421_21.jpg'>\n      </div>\n      ",x.reset(),i.spinner.stop(),e.abrupt("return");case 19:c.fetchNews.setHits(s.meta.hits),H(s.docs),U(),A(),g(),i.spinner.stop(),(0,o.addClassesForCoincidencesMarkupAndStorage)(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(4),console.log;case 34:x.reset();case 35:case"end":return e.stop()}}),t,null,[[4,31]])})))).apply(this,arguments)}function U(){c.fetchNews.getNodeChild().forEach((function(e){return e.remove()}))}function H(e){var t=null;e.forEach((function(e){var n;e.multimedia.forEach((function(e){"xlarge"===e.subType&&(t="https://www.nytimes.com/".concat(e.url))}));var a=(0,o.cutInfo)(e.lead_paragraph),s=(0,o.formatDate)(e.pub_date);!function(e){c.fetchNews.addData((0,o.createObj)(e)),c.fetchNews.addStorageData((0,o.createObj)(e))}({title:e.headline.main,description:a,category:e.section_name,pubDate:s,url:e.web_url,img:t,imgDescr:(null===(n=e.keywords[0])||void 0===n?void 0:n.value)?e.keywords[0].value:"",id:e._id})}))}function A(){for(var e=[],t=c.fetchNews.getData(),n=0;n<t.length&&!(n>=8);n++)e.push(t[n]);var a=e.reduce((function(e,t){return e+='\n<div class="news-card" news-id="'.concat(t.id,'">\n    <div class="news-card__img">\n      <p class="news-card__theme">').concat(t.category,'</p>\n      <img class="news-card__item"\n          src="').concat(t.imgUrl,'"\n          alt="').concat(t.imgDescr?t.imgDescr:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <label for="favorite" class="label-favorite" id="').concat(t.id,'">Add to favorite</label>\n          <input type="checkbox" class="input-favorite" id="favorite" />\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title.limit(50,{ending:""}),'</h2>\n      <p class="news-card__info-text">').concat(t.description.limit(120),'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.pubDate,'</p>\n      <a class="news-card__more" href="').concat(t.url,'" id="').concat(t.id,'"target="_blank" rel="noreferrer noopener">Read more</a>\n      </div>\n    </div>')}),"");_.insertAdjacentHTML("beforeend",a)}x.addEventListener("submit",(function(e){return L.apply(this,arguments)}));l=s("bpxeT"),r=s("2TvXO"),c=s("eFrT6"),o=s("79A4R"),i=s("bpdv1"),document.querySelector(".gallery-container");var E=document.querySelector(".filters__button-wrap"),Y=document.querySelector(".selected_list"),q=(document.querySelectorAll(".filters__button"),document.querySelector(".selected_container .filters__button")),F=document.querySelector(".category_btn"),P=document.querySelector(".category_dropdown"),O=document.querySelector(".category_notdropdownbtn_container");function I(){return(I=e(l)(e(r).mark((function t(n){var a,s,l;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"BUTTON"!==n.target.nodeName){e.next=24;break}return i.spinner.spin(document.body),a=n.target.innerText.toLowerCase(),c.fetchNews.resetData(),c.fetchNews.resetStorageData(),c.fetchNews.resetCategoryData(),c.fetchNews.setFilterQuery(a),e.next=10,c.fetchNews.fetchNewsByFilter();case 10:if(s=e.sent,null!==(l=s.data.results)){e.next=15;break}return i.spinner.stop(),e.abrupt("return");case 15:c.fetchNews.setHits(l.length),c.fetchNews.setFilterParams(c.fetchNews.getFilterParams()),(0,o.saveCategoryData)(l),(0,o.deleteNewsCards)(),(0,o.renderNewsCards)(),g(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)();case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0.message),i.spinner.stop();case 30:i.spinner.stop();case 31:case"end":return e.stop()}}),t,null,[[0,26]])})))).apply(this,arguments)}function B(){return(B=e(l)(e(r).mark((function t(n){var a,s,l;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y.classList.toggle("shown"),i.spinner.spin(document.body),c.fetchNews.resetData(),c.fetchNews.resetStorageData(),c.fetchNews.resetCategoryData(),a=n.target.textContent,q.innerText=a,c.fetchNews.setFilterQuery(a.toLowerCase()),e.next=11,c.fetchNews.fetchNewsByFilter();case 11:if(s=e.sent,null!==(l=s.data.results)){e.next=16;break}return i.spinner.stop(),e.abrupt("return");case 16:c.fetchNews.setHits(l.length),c.fetchNews.setFilterParams(c.fetchNews.getFilterParams()),(0,o.saveCategoryData)(l),(0,o.deleteNewsCards)(),(0,o.renderNewsCards)(),g(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),console.error(e.t0.message),i.spinner.stop();case 31:i.spinner.stop();case 32:case"end":return e.stop()}}),t,null,[[0,27]])})))).apply(this,arguments)}function R(){return R=e(l)(e(r).mark((function t(){var n,a,s,i,o,d,u,v,h,p,g,m,f,y,C,S;return e(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g=function(e){return m.apply(this,arguments)},m=function(){return(m=e(l)(e(r).mark((function t(n){return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.matches&&(F.firstChild.textContent="Others",J(d.reduce((function(e,t){return e+W(t)}),"")),j(u.reduce((function(e,t){return e+K(t)}),"")));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)},f=function(e){return y.apply(this,arguments)},y=function(){return(y=e(l)(e(r).mark((function t(n){var a;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.matches&&(F.firstChild.textContent="Categories",a=s.reduce((function(e,t){return e+K(t)}),""),O.innerHTML="",j(a));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)},C=function(e){return S.apply(this,arguments)},S=function(){return(S=e(l)(e(r).mark((function t(n){return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.matches&&(F.firstChild.textContent="Others",J(i.reduce((function(e,t){return e+W(t)}),"")),j(o.reduce((function(e,t){return e+K(t)}),"")));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)},t.prev=6,t.next=9,c.fetchNews.getCategoryNames();case 9:n=t.sent,a=n.filter((function(e){return e.display_name.length<=10})).sort(),s=a.map((function(e){e.section;return e.display_name})),i=a.reduce((function(e,t){return a.indexOf(t)<=3&&e.push(t.display_name),e}),[]),o=a.reduce((function(e,t){return a.indexOf(t)>3&&e.push(t.display_name),e}),[]),d=a.reduce((function(e,t){return a.indexOf(t)<=5&&e.push(t.display_name),e}),[]),u=a.reduce((function(e,t){return a.indexOf(t)>5&&e.push(t.display_name),e}),[]),v=window.matchMedia("(min-width: 1280px)"),h=window.matchMedia("screen and (min-width: 768px) and (max-width: 1279px"),p=window.matchMedia("(max-width: 767px)"),v.addListener(g),h.addListener(C),p.addListener(f),g(v),C(h),f(p),p.matches?f(p):h.mathes?C(h):g(v),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(6),console.log(t.t0);case 37:case"end":return t.stop()}}),t,null,[[6,34]])}))),R.apply(this,arguments)}function K(e){return'<a class="category_dropdown_item selected__item" href="#">'.concat(e,"</a>")}function W(e){return'<button class="category_btn category_nondropdown_btn filters__button" href="#">'.concat(e,"</button>")}function j(e){P.innerHTML="".concat(e)}function J(e){O.innerHTML="".concat(e)}E.addEventListener("click",(function(e){return I.apply(this,arguments)})),q.addEventListener("click",(function(){Y.classList.toggle("shown")})),Y.addEventListener("click",(function(e){return B.apply(this,arguments)})),function(){R.apply(this,arguments)}();l=s("bpxeT"),r=s("2TvXO");var z={},X=s("8MBJY");d=s("8nrFW");
/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */"undefined"!=typeof window&&(self,z=function(){"use strict";var t={d:function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:function(){return ae}});var a=function(e){if(["default","multiple","year"].includes(e.currentType)){var t=e.HTMLElement.querySelector(".".concat(e.CSSClasses.arrowPrev)),n=e.HTMLElement.querySelector(".".concat(e.CSSClasses.arrowNext));t&&n&&("default"!==e.currentType&&"multiple"!==e.currentType||function(){if(e.dateMin&&e.dateMax){var a=e.selectedMonth===e.dateMin.getUTCMonth(),s=e.selectedMonth===e.dateMax.getUTCMonth(),l=!e.settings.selection.year||e.selectedYear===e.dateMin.getUTCFullYear(),r=!e.settings.selection.year||e.selectedYear===e.dateMax.getUTCFullYear();a&&l||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility="",s&&r||!e.settings.selection.month?n.style.visibility="hidden":n.style.visibility=""}}(),"year"===e.currentType&&e.dateMin&&e.dateMax&&void 0!==e.viewYear&&(e.dateMin.getUTCFullYear()&&e.viewYear-7<=e.dateMin.getUTCFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getUTCFullYear()&&e.viewYear+7>=e.dateMax.getUTCFullYear()?n.style.visibility="hidden":n.style.visibility=""))}},s=function(e,t){e.popups&&Object.keys(e.popups).forEach((function(n){var a,s=t.querySelector('[data-calendar-day="'.concat(n,'"]'));if(s){var l=null==(a=e.popups)?void 0:a[n];(null==l?void 0:l.modifier)&&l.modifier.trim().split(" ").forEach((function(e){s.classList.add(e)})),(null==l?void 0:l.html)&&(s.parentNode.innerHTML+='<div class="'.concat(e.CSSClasses.dayPopup,'">').concat(l.html,"</div>"))}}))},l=function(e,t){if(!e)return null;var n=new Date(e).getUTCDate(),a=new Date(e).getUTCMonth(),s=new Date(e).getUTCFullYear(),l=new Date(Date.UTC(s,a,n)),r=t?l.getUTCDay()||7:l.getUTCDay();l.setUTCDate(l.getUTCDate()+4-r);var c=new Date(Date.UTC(l.getUTCFullYear(),0,1));return{year:s,week:Math.ceil(((+l-+c)/864e5+1)/7)}},r=function(e,t,n,a,s){if(e.settings.visibility.weekNumbers){var r=s.querySelectorAll(".".concat(e.CSSClasses.day));a.innerHTML="";var c=Math.ceil((t+n)/7),i=document.createElement("b");i.className=e.CSSClasses.weekNumbersTitle,i.innerText="#",a.append(i);var o=document.createElement("div");o.className=e.CSSClasses.weekNumbersContent,a.append(o);var d=document.createElement("span");d.className=e.CSSClasses.weekNumber;for(var u=0;u<c;u++){var v=null;v=0===u?r[6].querySelector(".".concat(e.CSSClasses.dayBtn)):r[7*u].querySelector(".".concat(e.CSSClasses.dayBtn));var h=l(v.dataset.calendarDay,e.settings.iso8601);if(!h)return;var p=d.cloneNode(!0);p.innerText="".concat(h.week),p.dataset.calendarYearWeek="".concat(h.year),o.append(p)}}},c=function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth()+1,a=e.getUTCDate();return n=n<10?"0".concat(n):n,a=a<10?"0".concat(a):a,"".concat(t,"-").concat(n,"-").concat(a)},i=function(e){var t,n=e.HTMLElement.querySelectorAll(".".concat(e.CSSClasses.days)),a=e.HTMLElement.querySelectorAll(".".concat(e.CSSClasses.weekNumbers)),i=new Date(e.date.today.getTime()),o=document.createElement("div"),d=document.createElement("button");o.className=e.CSSClasses.day,d.className=e.CSSClasses.dayBtn,d.type="button",null==(t=e.selectedDates)||t.sort((function(e,t){return+new Date(e)-+new Date(t)})),n.forEach((function(t,u){var v=new Date(i.setMonth(e.selectedMonth+u)).getMonth(),h=new Date(i.setFullYear(e.selectedYear,e.selectedMonth+u)).getFullYear(),p=new Date(Date.UTC(h,v,1)),g=new Date(Date.UTC(h,v+1,0)).getUTCDate(),m=Number(p.getUTCDay());e.settings.iso8601&&(m=Number((0!==p.getUTCDay()?p.getUTCDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&n[u].classList.add(e.CSSClasses.daysSelecting),n[u].innerHTML="";var f=function(t,a,s,r,c){var i=o.cloneNode(!0),v=d.cloneNode(!0);if(c&&v.classList.add(c),v.innerText=t,v.dataset.calendarDay=s,e.settings.visibility.weekNumbers){var p=l(s,e.settings.iso8601);if(!p)return;v.dataset.calendarWeekNumber="".concat(p.week)}(function(t,n,a,s,l){var r,c;e.settings.range.disableWeekday.includes(a)&&(null==(r=e.rangeDisabled)||r.push(s),null==(c=e.rangeDisabled)||c.sort((function(e,t){return+new Date(e)-+new Date(t)}))),!e.settings.visibility.weekend||0!==a&&6!==a||n.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach((function(t){t===s&&n.classList.add(e.CSSClasses.dayBtnHoliday)}));var i=e.date.today.getDate(),o=e.date.today.getMonth()+1;i=i<10?"0".concat(i):i,o=o<10?"0".concat(o):o;var d="".concat(e.date.today.getFullYear(),"-").concat(o,"-").concat(i);e.settings.visibility.today&&n.dataset.calendarDay===d&&n.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(s)?("multiple-ranged"===e.settings.selection.day&&e.selectedDates.length>1?t.classList.add(e.CSSClasses.daySelectedFirst):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(s)===e.selectedDates.length-1?(t.classList.add(e.CSSClasses.daySelected),"multiple-ranged"===e.settings.selection.day?t.classList.add(e.CSSClasses.daySelectedLast):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.CSSClasses.daySelectedIntermediate),n.classList.add(e.CSSClasses.dayBtnSelected),n.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&(t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)),(e.rangeMin>s||e.rangeMax<s)&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),!e.settings.selection.month&&l&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),e.settings.selection.year||new Date(s).getFullYear()===h||(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),Array.isArray(e.rangeDisabled)?e.rangeDisabled.forEach((function(t){t===s&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1)})):Array.isArray(e.rangeEnabled)&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1,e.rangeEnabled.forEach((function(t){t===s&&(n.classList.remove(e.CSSClasses.dayBtnDisabled),n.tabIndex=0)})))})(i,v,a,s,r),r?e.settings.visibility.daysOutside&&i.append(v):i.append(v),n[u].append(i)};(function(){var t=new Date(Date.UTC(h,v,0)).getUTCDate()-m,n=h,a=v;0===v?(a=e.locale.months.length,n=h-1):v<10&&(a="0".concat(v));for(var s=0;s<m;s++){t+=1;var l="".concat(n,"-").concat(a,"-").concat(t),r=new Date(Date.UTC(h,v,t-1)).getUTCMonth()-1,c=new Date(Date.UTC(h,r,t)).getUTCDay();f(String(t),c,l,!0,e.CSSClasses.dayBtnPrev)}})(),function(){for(var e=1;e<=g;e++){var t=new Date(Date.UTC(h,v,e)),n=c(t),a=t.getUTCDay();f(String(e),a,n,!1,null)}}(),function(){var t=m+g,n=Math.ceil(t/e.locale.weekday.length),a=e.locale.weekday.length*n-t,s=h,l=String(v+2);v+1===e.locale.months.length?(l="01",s=h+1):v+2<10&&(l="0".concat(v+2));for(var r=1;r<=a;r++){var c="".concat(s,"-").concat(l,"-").concat(r<10?"0".concat(r):String(r)),i=new Date(Date.UTC(h,v,r)).getUTCMonth()+1,o=new Date(Date.UTC(h,i,r)).getUTCDay();f(String(r),o,c,!0,e.CSSClasses.dayBtnNext)}}(),s(e,n[u]),r(e,m,g,a[u],n[u])}))},o=function(e){return'\n\t<button type="button"\n\t\tclass="'.concat(e.CSSClasses.arrow," ").concat(e.CSSClasses.arrowPrev,'"\n\t\tdata-calendar-arrow="prev"\n\t\ttitle="Prev">\n\t</button>\n')},u=function(e){return'\n\t<button type="button"\n\tclass="'.concat(e.CSSClasses.arrow," ").concat(e.CSSClasses.arrowNext,'"\n\tdata-calendar-arrow="next"\n\ttitle="Next">\n\t</button>\n')},v=function(e){return'\n\t<button type="button"\n\t\tclass="'.concat(e.CSSClasses.month,'"\n\t\tdata-calendar-selected-month>\n\t</button>\n')},h=function(e){return'\n\t<button type="button"\n\t\tclass="'.concat(e.CSSClasses.year,'"\n\t\tdata-calendar-selected-year>\n\t</button>\n')},p=function(e){return'\n\t<div class="'.concat(e.CSSClasses.week,'"></div>\n')},g=function(e){return'\n\t<div class="'.concat(e.CSSClasses.days,'"></div>\n')},m=function(e){return'\n\t<div class="'.concat(e.CSSClasses.months,'"></div>\n')},f=function(e){return'\n\t<div class="'.concat(e.CSSClasses.years,'"></div>\n')},y=function(e){return e.settings.visibility.weekNumbers?'\n\t<div class="'.concat(e.CSSClasses.weekNumbers,'"></div>\n'):""},C=function(e){return e.settings.selection.time?'\n\t<div class="'.concat(e.CSSClasses.time,'"></div>\n'):""},S=function(e){var t=null;switch(e){case"ArrowPrev":t=o;break;case"ArrowNext":t=u;break;case"Month":t=v;break;case"Year":t=h;break;case"Week":t=p;break;case"Days":t=g;break;case"Months":t=m;break;case"Years":t=f;break;case"WeekNumbers":t=y;break;case"ControlTime":t=C}return t},w=function(e,t){return t.replace(/<#(.*?)\/>/g,(function(t,n){var a=S(n.replace(/[\s\n\t]/g,""));return a?a(e):""})).replace(/[\n\t]/g,"")},b=function(e){var t=e.HTMLElement;switch(t.classList.add(e.CSSClasses.calendar),e.currentType){case"default":t.classList.add(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;t.classList.add(e.CSSClasses.calendarMultiple),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=function(e,t){return t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(function(t,n){for(var a="",s=0;s<e.correctMonths;s++)a+=n;return a})).replace(/[\n\t]/g,"")}(e,w(e,e.DOMTemplates.multiple));break;case"month":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.add(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.month);break;case"year":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.add(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.year)}},D=function(e){var t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(t[0]&&void 0!==e.selectedMonth){var n=new Date(e.date.today.getTime());t.forEach((function(a,s){var l=new Date(n.setMonth(e.selectedMonth+s)).getMonth();t[s].dataset.calendarSelectedMonth=String(l),t[s].innerText=e.locale.months[l],e.settings.selection.month&&"multiple"!==e.currentType?(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.monthDisabled)):(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.monthDisabled))}))}},M=function(e){var t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(t&&void 0!==e.selectedMonth){var n=new Date(e.date.today.getTime());t.forEach((function(a,s){var l=new Date(n.setFullYear(e.selectedYear,e.selectedMonth+s)).getFullYear();t[s].dataset.calendarSelectedYear=String(l),t[s].innerText=String(l),e.settings.selection.year&&"multiple"!==e.currentType?(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.yearDisabled)):(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.yearDisabled))}))}},T=function(e){e.currentType="month",b(e),D(e),M(e);var t=e.HTMLElement.querySelector(".".concat(e.CSSClasses.months));if(void 0!==e.selectedMonth&&void 0!==e.selectedYear&&e.dateMin&&e.dateMax&&t){e.settings.selection.month&&t.classList.add(e.CSSClasses.monthsSelecting);var n=document.createElement("button");n.type="button",n.className=e.CSSClasses.monthsMonth;for(var a=0;a<e.locale.months.length;a++){var s=e.locale.months[a],l=n.cloneNode(!0);a===e.selectedMonth&&l.classList.add(e.CSSClasses.monthsMonthSelected),a<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),a>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),l.dataset.calendarMonth=String(a),l.title="".concat(s),l.innerText="".concat(e.settings.visibility.monthShort?s.substring(0,3):s),t.append(l)}}},N=function(e){var t=Number(e),n=String(t);return 0===t?n="12":13===t?n="01":14===t?n="02":15===t?n="03":16===t?n="04":17===t?n="05":18===t?n="06":19===t?n="07":20===t?n="08":21===t?n="09":22===t?n="10":23===t&&(n="11"),n},k=function(e,t){var n=Number(e),a=String(n);return"AM"===t?12===n&&(a="00"):"PM"===t&&(1===n?a="13":2===n?a="14":3===n?a="15":4===n?a="16":5===n?a="17":6===n?a="18":7===n?a="19":8===n?a="20":9===n?a="21":10===n?a="22":11===n&&(a="23")),a},x=function(e,t){var n=e.HTMLElement.querySelector(".".concat(e.CSSClasses.timeRange,' input[name="hours"]')),a=e.HTMLElement.querySelector(".".concat(e.CSSClasses.timeRange,' input[name="minutes"]')),s=e.HTMLElement.querySelector(".".concat(e.CSSClasses.timeHours,' input[name="hours"]')),l=e.HTMLElement.querySelector(".".concat(e.CSSClasses.timeMinutes,' input[name="minutes"]')),r=e.HTMLElement.querySelector(".".concat(e.CSSClasses.timeKeeping)),c=function(t,n){t.addEventListener("mouseover",(function(){return n.classList.add(e.CSSClasses.isFocus)}))},i=function(t,n){t.addEventListener("mouseout",(function(){return n.classList.remove(e.CSSClasses.isFocus)}))},o=function(t,n,a){"hours"===a?e.selectedHours="".concat(n):"minutes"===a&&(e.selectedMinutes="".concat(n)),e.selectedTime="".concat(e.selectedHours,":").concat(e.selectedMinutes).concat(e.selectedKeeping?" ".concat(e.selectedKeeping):""),e.settings.selected.time=e.selectedTime,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},d=function(t,n,a,s){t.addEventListener("input",(function(t){var l=Number(t.target.value);l=l<10?"0".concat(l):"".concat(l),"hours"===a&&12===s?Number(t.target.value)<s&&Number(t.target.value)>0?(n.value=l,e.selectedKeeping="AM",r.innerText=e.selectedKeeping,o(t,l,a)):(0===Number(t.target.value)?(e.selectedKeeping="AM",r.innerText="AM"):(e.selectedKeeping="PM",r.innerText="PM"),n.value=N(t.target.value),o(t,N(t.target.value),a)):(n.value=l,o(t,l,a))}))},u=function(t,n,a,s){n.addEventListener("change",(function(n){var l=n.target,c=Number(l.value);c=c<10?"0".concat(c):"".concat(c),"hours"===a&&12===s?l.value&&Number(l.value)<=s&&Number(l.value)>0?(l.value=c,t.value=k(c,e.selectedKeeping),o(n,c,a)):l.value&&Number(l.value)<24&&(Number(l.value)>s||0===Number(l.value))?(0===Number(l.value)?(e.selectedKeeping="AM",r.innerText="AM"):(e.selectedKeeping="PM",r.innerText="PM"),l.value=N(l.value),t.value=c,o(n,N(l.value),a)):l.value=e.selectedHours:l.value&&Number(l.value)<=s&&Number(l.value)>=0?(l.value=c,t.value=c,o(n,c,a)):"hours"===a?l.value=e.selectedHours:"minutes"===a&&(l.value=e.selectedMinutes)}))};c(n,s),c(a,l),i(n,s),i(a,l),d(n,s,"hours",24===t?23:12),d(a,l,"minutes",0),u(n,s,"hours",24===t?23:12),u(a,l,"minutes",59),r&&r.addEventListener("click",(function(t){r.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",n.value=k(e.selectedHours,e.selectedKeeping),o(t,e.selectedHours,"hours"),r.innerText=e.selectedKeeping}))},_=function(e){var t=e.HTMLElement.querySelector(".".concat(e.CSSClasses.time));if(t){var n=!0===e.settings.selection.time?12:e.settings.selection.time,a="range"===e.settings.selection.controlTime;t.innerHTML='\n\t<div class="'.concat(e.CSSClasses.timeContent,'">\n\t\t<label class="').concat(e.CSSClasses.timeHours,'">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="').concat(e.selectedHours,'"\n\t\t\t\t').concat(a?"disabled":"",'>\n\t\t</label>\n\t\t<label class="').concat(e.CSSClasses.timeMinutes,'">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="').concat(e.selectedMinutes,'"\n\t\t\t\t').concat(a?"disabled":"",">\n\t\t</label>\n\t\t").concat(12===n?'\n\t\t<button type="button"\n\t\t\tclass="'.concat(e.CSSClasses.timeKeeping,'"\n\t\t\t').concat(a?"disabled":"",">").concat(e.selectedKeeping,"</button>\n\t\t"):"",'\n\t</div>\n\t<div class="').concat(e.CSSClasses.timeRanges,'">\n\t\t<label class="').concat(e.CSSClasses.timeRange,'">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="').concat(e.settings.selection.stepHours,'"\n\t\t\t\tvalue="').concat(e.selectedKeeping?k(e.selectedHours,e.selectedKeeping):e.selectedHours,'">\n\t\t</label>\n\t\t<label class="').concat(e.CSSClasses.timeRange,'">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="').concat(e.settings.selection.stepMinutes,'"\n\t\t\t\tvalue="').concat(e.selectedMinutes,'">\n\t\t</label>\n\t</div>'),x(e,n)}},L=function(t){var n=e(d)(t.locale.weekday);if(n[0]){var a=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.week)),s=document.createElement("b");s.className=t.CSSClasses.weekDay,t.settings.iso8601&&n.push(n.shift()),a.forEach((function(e){e.innerHTML="";for(var a=0;a<n.length;a++){var l=n[a],r=s.cloneNode(!0);t.settings.visibility.weekend&&t.settings.iso8601?5!==a&&6!==a||r.classList.add(t.CSSClasses.weekDayWeekend):t.settings.visibility.weekend&&!t.settings.iso8601&&(0!==a&&6!==a||r.classList.add(t.CSSClasses.weekDayWeekend)),r.innerText="".concat(l),e.append(r)}}))}},U=function(e){if(void 0!==e.viewYear&&e.dateMin&&e.dateMax){e.currentType="year",b(e),D(e),M(e),a(e);var t=e.HTMLElement.querySelector(".".concat(e.CSSClasses.years));if(t){e.settings.selection.year&&t.classList.add(e.CSSClasses.yearsSelecting);var n=document.createElement("button");n.type="button",n.className=e.CSSClasses.yearsYear;for(var s=e.viewYear-7;s<e.viewYear+8;s++){var l=s,r=n.cloneNode(!0);l===e.selectedYear&&r.classList.add(e.CSSClasses.yearsYearSelected),l<e.dateMin.getUTCFullYear()&&(r.classList.add(e.CSSClasses.yearsYearDisabled),r.tabIndex=-1),l>e.dateMax.getUTCFullYear()&&(r.classList.add(e.CSSClasses.yearsYearDisabled),r.tabIndex=-1),r.dataset.calendarYear=String(l),r.innerText="".concat(l),t.append(r)}}}},H=function(e){if("define"!==e.settings.lang){e.locale.weekday=[];for(var t=0;t<7;t++){var n=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});n=(n="".concat(n.charAt(0).toUpperCase()).concat(n.substring(1,n.length))).replace(/\./,""),e.locale.weekday.push(n)}e.locale.months=[];for(var a=0;a<12;a++){var s=new Date(0,a).toLocaleString(e.settings.lang,{month:"long"});s=(s="".concat(s.charAt(0).toUpperCase()).concat(s.substring(1,s.length))).replace(/\./,""),e.locale.months.push(s)}}},A=function(e){var t=[];return e.forEach((function(e){e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(function(e,n,a){for(var s=new Date(n),l=new Date(a),r=new Date(s.getTime());r<=l;r.setDate(r.getDate()+1))t.push(c(r));return e}))})),t},E=function(t){t.rangeMin=t.settings.range.min,t.rangeMax=t.settings.range.max,t.rangeDisabled=t.settings.range.disabled?A(e(d)(t.settings.range.disabled)):[],t.rangeEnabled=t.settings.range.enabled?A(e(d)(t.settings.range.enabled)):[],t.selectedDates=t.settings.selected.dates?A(e(d)(t.settings.selected.dates)):[],t.selectedHolidays=t.settings.selected.holidays?A(e(d)(t.settings.selected.holidays)):[],t.settings.range.disablePast&&new Date(t.settings.range.min)<t.date.today&&(t.rangeMin=c(t.date.today));var n=new Date(t.rangeMin),a=new Date(t.rangeMax);n.setDate(n.getDate()-1),a.setDate(a.getDate()+1),t.rangeDisabled.push(c(n)),t.rangeDisabled.push(c(a)),t.rangeDisabled.sort((function(e,t){return+new Date(e)-+new Date(t)})),null!==t.settings.selected.month&&t.settings.selected.month>=0&&t.settings.selected.month<12?t.selectedMonth=t.settings.selected.month:t.selectedMonth=t.date.today.getMonth(),null!==t.settings.selected.year&&t.settings.selected.year>=0&&t.settings.selected.year<=9999?t.selectedYear=t.settings.selected.year:t.selectedYear=t.date.today.getFullYear(),t.viewYear=t.selectedYear,t.dateMin=t.settings.visibility.disabled?new Date(t.date.min):new Date(t.rangeMin),t.dateMax=t.settings.visibility.disabled?new Date(t.date.max):new Date(t.rangeMax);var s=!0===t.settings.selection.time||12===t.settings.selection.time;if(s||24===t.settings.selection.time){if("string"==typeof t.settings.selected.time){var l=s?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;t.settings.selected.time.replace(l,(function(e,n,a,l){return n&&a&&(t.userTime=!0,t.selectedHours=n,t.selectedMinutes=a),l&&s?t.selectedKeeping=l:s&&(t.selectedKeeping="AM"),""}))}!t.userTime&&s?(t.selectedHours=N(String(t.date.today.getHours())),t.selectedMinutes=String(t.date.today.getMinutes()),t.selectedKeeping=Number(t.date.today.getHours())>12?"PM":"AM"):t.userTime||(t.selectedHours=String(t.date.today.getHours()),t.selectedMinutes=String(t.date.today.getMinutes())),t.selectedHours=Number(t.selectedHours)<10?"0".concat(Number(t.selectedHours)):"".concat(t.selectedHours),t.selectedMinutes=Number(t.selectedMinutes)<10?"0".concat(Number(t.selectedMinutes)):"".concat(t.selectedMinutes),t.selectedTime="".concat(t.selectedHours,":").concat(t.selectedMinutes).concat(t.selectedKeeping?" ".concat(t.selectedKeeping):"")}else t.settings.selection.time&&(t.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));"multiple"===t.type&&(1===t.months?(console.warn("The value of the «months» parameter cannot be less than «2», the minimum available value will be initialized."),t.correctMonths=2):t.months>12?(console.warn("The value of the «months» parameter cannot be greater than «12», the maximum available value will be initialized."),t.correctMonths=12):t.correctMonths=t.months)},Y=function(e){E(e),H(e),b(e),D(e),M(e),a(e),_(e),"default"===e.currentType||"multiple"===e.currentType?(L(e),i(e)):"month"===e.currentType?T(e):"year"===e.currentType&&U(e)},q=function(e,t){if(void 0!==e.selectedMonth&&void 0!==e.selectedYear){var n=e.locale.months.length-1;switch(t){case"prev":0!==e.selectedMonth?e.selectedMonth-=1:e.settings.selection.year&&(e.selectedYear-=1,e.selectedMonth=n);break;case"next":e.selectedMonth!==n?e.selectedMonth+=1:e.settings.selection.year&&(e.selectedYear+=1,e.selectedMonth=0)}e.settings.selected.month=e.selectedMonth,e.settings.selected.year=e.selectedYear,D(e),M(e),a(e),i(e)}},F=null,P=function(){var e;if(F){var t=null==(e=F.HTMLElement)?void 0:e.querySelectorAll(".".concat(F.CSSClasses.dayBtnHover));t&&t.forEach((function(e){return e.classList.remove(F.CSSClasses.dayBtnHover)}))}},O=function(e){var t;if(F&&F.selectedDates){var n=c(e);if(!F.rangeDisabled||!F.rangeDisabled.includes(n)){var a=null==(t=F.HTMLElement)?void 0:t.querySelectorAll('[data-calendar-day="'.concat(n,'"]'));null==a||a.forEach((function(e){e.classList.add(F.CSSClasses.dayBtnHover)}))}}},I=function(e){if(e.target&&F&&F.selectedDates)if(e.target.closest(".".concat(F.CSSClasses.days))){var t=e.target.dataset.calendarDay;if(t){P();var n=new Date(Date.UTC(new Date(F.selectedDates[0]).getUTCFullYear(),new Date(F.selectedDates[0]).getUTCMonth(),new Date(F.selectedDates[0]).getUTCDate())),a=new Date(Date.UTC(new Date(t).getUTCFullYear(),new Date(t).getUTCMonth(),new Date(t).getUTCDate()));if(a>n)for(var s=n;s<=a;s.setUTCDate(s.getUTCDate()+1))O(s);else for(var l=n;l>=a;l.setUTCDate(l.getUTCDate()-1))O(l)}}else P()},B=function(e){F&&"Escape"===e.key&&(F.selectedDates=[],F.HTMLElement.removeEventListener("mousemove",I),document.removeEventListener("keydown",B),Y(F))},R=function(e){e&&e.selectedDates&&(F=e,e.selectedDates[0]&&e.selectedDates.length<=1?(e.HTMLElement.addEventListener("mousemove",I),document.addEventListener("keydown",B),e.settings.range.disableGaps&&function(){var e;if(F&&(null==(e=F.selectedDates)?void 0:e[0])&&F.rangeDisabled&&!(F.rangeDisabled.length<2)){var t=new Date(F.selectedDates[0]),n=null,a=null;F.rangeDisabled.sort((function(e,t){return+new Date(e)-+new Date(t)}));for(var s=0;s<F.rangeDisabled.length;s++){var l=new Date(F.rangeDisabled[s]);if(!(t>=l)){a=l;break}n=l}n&&(n=new Date(n.setDate(n.getDate()+1)),F.rangeMin=c(n)),a&&(a=new Date(a.setDate(a.getDate()-1)),F.rangeMax=c(a))}}()):(e.HTMLElement.removeEventListener("mousemove",I),document.removeEventListener("keydown",B),e.settings.range.disableGaps&&F&&(F.rangeMin=F.settings.range.min,F.rangeMax=F.settings.range.max,F.settings.range.disablePast&&new Date(F.settings.range.min)<F.date.today&&(F.rangeMin=c(F.date.today)))))},K=function(t){t.HTMLElement.addEventListener("click",(function(n){var a=n.target,s=a.closest(".".concat(t.CSSClasses.arrow)),l=a.closest(".".concat(t.CSSClasses.arrowPrev)),r=a.closest(".".concat(t.CSSClasses.arrowNext)),o=a.closest(".".concat(t.CSSClasses.dayBtn)),u=a.closest(".".concat(t.CSSClasses.dayBtnPrev)),v=a.closest(".".concat(t.CSSClasses.dayBtnNext)),h=a.closest(".".concat(t.CSSClasses.weekNumber)),p=a.closest(".".concat(t.CSSClasses.year)),g=a.closest(".".concat(t.CSSClasses.yearsYear)),m=a.closest(".".concat(t.CSSClasses.month)),f=a.closest(".".concat(t.CSSClasses.monthsMonth));s&&"year"!==t.currentType&&"month"!==t.currentType&&q(t,a.dataset.calendarArrow),s&&t.actions.clickArrow&&t.actions.clickArrow(n,Number(t.selectedYear),Number(t.selectedMonth)),function(){if(t.settings.selection.day&&["single","multiple","multiple-ranged"].includes(t.settings.selection.day)&&o){switch(t.settings.selection.day){case"single":t.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(t.CSSClasses.dayBtnSelected)?t.selectedDates.splice(t.selectedDates.indexOf(o.dataset.calendarDay),1):(t.selectedDates=[],t.selectedDates.push(o.dataset.calendarDay)));break;case"multiple":t.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(t.CSSClasses.dayBtnSelected)?t.selectedDates.splice(t.selectedDates.indexOf(o.dataset.calendarDay),1):t.selectedDates.push(o.dataset.calendarDay));break;case"multiple-ranged":!function(){if(t.selectedDates&&o&&o.dataset.calendarDay){if(t.selectedDates.length<=1&&t.selectedDates[0]&&t.selectedDates[0].includes(o.dataset.calendarDay)?t.selectedDates=[]:(t.selectedDates.length>1&&(t.selectedDates=[]),t.selectedDates.push(o.dataset.calendarDay)),t.selectedDates[1]){var e=new Date(Date.UTC(new Date(t.selectedDates[0]).getUTCFullYear(),new Date(t.selectedDates[0]).getUTCMonth(),new Date(t.selectedDates[0]).getUTCDate())),n=new Date(Date.UTC(new Date(t.selectedDates[1]).getUTCFullYear(),new Date(t.selectedDates[1]).getUTCMonth(),new Date(t.selectedDates[1]).getUTCDate())),a=function(e){if(t.selectedDates){var n=c(e);t.rangeDisabled&&t.rangeDisabled.includes(n)||t.selectedDates.push(n)}};if(t.selectedDates=[],n>e)for(var s=e;s<=n;s.setUTCDate(s.getUTCDate()+1))a(s);else for(var l=e;l>=n;l.setUTCDate(l.getUTCDate()-1))a(l)}R(t)}}()}t.actions.clickDay&&t.actions.clickDay(n,t.selectedDates),u?q(t,"prev"):v?q(t,"next"):i(t)}}(),function(){var a;if(t.settings.visibility.weekNumbers&&h&&t.actions.clickWeekNumber){var s=null==(a=t.HTMLElement)?void 0:a.querySelectorAll("[data-calendar-week-number]");if(s){var l=Number(h.innerText),r=Number(h.dataset.calendarYearWeek),c=e(d)(s).filter((function(e){return Number(e.dataset.calendarWeekNumber)===l}));t.actions.clickWeekNumber(n,l,c,r)}}}(),function(){if(t.settings.selection.year&&"multiple"!==t.currentType)if(s&&"year"===t.currentType){if(void 0===t.viewYear)return;r?t.viewYear+=15:l&&(t.viewYear-=15),U(t)}else if("year"!==t.currentType&&p)U(t);else if("year"===t.currentType&&p)t.currentType=t.type,Y(t);else if(g){if(void 0===t.selectedMonth||!t.dateMin||!t.dateMax)return;t.selectedYear=Number(g.dataset.calendarYear),t.currentType=t.type,t.selectedMonth<t.dateMin.getUTCMonth()&&t.selectedYear===t.dateMin.getUTCFullYear()&&(t.settings.selected.month=t.dateMin.getUTCMonth()),t.selectedMonth>t.dateMax.getUTCMonth()&&t.selectedYear===t.dateMax.getUTCFullYear()&&(t.settings.selected.month=t.dateMax.getUTCMonth()),t.actions.clickYear&&t.actions.clickYear(n,t.selectedYear),t.settings.selected.year=t.selectedYear,Y(t)}}(),t.settings.selection.month&&"multiple"!==t.currentType&&("month"!==t.currentType&&m?T(t):"month"===t.currentType&&m?(t.currentType=t.type,Y(t)):f&&(t.selectedMonth=Number(f.dataset.calendarMonth),t.currentType=t.type,t.actions.clickMonth&&t.actions.clickMonth(n,t.selectedMonth),t.settings.selected.month=t.selectedMonth,Y(t)))}))},W=function(e){e.HTMLElement&&(Y(e),K(e))},j=function(e){return'\n\t<div class="'.concat(e.header,'">\n\t\t<#ArrowPrev />\n\t\t<div class="').concat(e.headerContent,'">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="').concat(e.wrapper,'">\n\t\t<#WeekNumbers />\n\t\t<div class="').concat(e.content,'">\n\t\t\t<#Week />\n\t\t\t<#Days />\n\t\t</div>\n\t</div>\n\t<#ControlTime />\n')},J=function(e){return'\n\t<div class="'.concat(e.controls,'">\n\t\t<#ArrowPrev />\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="').concat(e.grid,'">\n\t\t<#Multiple>\n\t\t\t<div class="').concat(e.column,'">\n\t\t\t\t<div class="').concat(e.header,'">\n\t\t\t\t\t<div class="').concat(e.headerContent,'">\n\t\t\t\t\t\t<#Month />\n\t\t\t\t\t\t<#Year />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="').concat(e.wrapper,'">\n\t\t\t\t\t<#WeekNumbers />\n\t\t\t\t\t<div class="').concat(e.content,'">\n\t\t\t\t\t\t<#Week />\n\t\t\t\t\t\t<#Days />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<#/Multiple>\n\t</div>\n\t<#ControlTime />\n')},z=function(e){return'\n\t<div class="'.concat(e.header,'">\n\t\t<div class="').concat(e.headerContent,'">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t</div>\n\t<div class="').concat(e.wrapper,'">\n\t\t<div class="').concat(e.content,'">\n\t\t\t<#Months />\n\t\t</div>\n\t</div>\n')},G=function(e){return'\n\t<div class="'.concat(e.header,'">\n\t\t<#ArrowPrev />\n\t\t<div class="').concat(e.headerContent,'">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="').concat(e.wrapper,'">\n\t\t<div class="').concat(e.content,'">\n\t\t\t<#Years />\n\t\t</div>\n\t</div>\n')},Q={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",column:"vanilla-calendar-column",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"},V=Object.defineProperty,$=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=function(e,t,n){return t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ne=function t(n,a){var s,l,r,c,i,o,d,u,v,h,p,g,m,f,y,C,S,w,b,D,M,T,N,k,x,_,L,U,H,A,E,q,F,P,O,I,B,R,K,V,ne,ae,se,le,re,ce,ie,oe,de,ue,ve,he,pe,ge,me,fe,ye,Ce,Se,we,be,De,Me,Te,Ne,ke,xe,_e,Le,Ue,He,Ae,Ee,Ye,qe,Fe,Pe,Oe,Ie,Be,Re,Ke,We,je,Je,ze,Xe,Ge,Qe,Ve,$e,Ze,et,tt,nt,at,st,lt,rt,ct,it,ot,dt,ut,vt,ht,pt,gt,mt,ft,yt,Ct,St,wt=this;e(X)(this,t),this.update=function(){return Y(wt)},this.init=function(){return W(wt)},this.HTMLElement="string"==typeof n?document.querySelector(n):n,this.HTMLElement&&(this.type=null!=(s=null==a?void 0:a.type)?s:"default",this.months=null!=(l=null==a?void 0:a.months)?l:2,this.date={min:null!=(c=null==(r=null==a?void 0:a.date)?void 0:r.min)?c:"1970-01-01",max:null!=(o=null==(i=null==a?void 0:a.date)?void 0:i.max)?o:"2470-12-31",today:null!=(u=null==(d=null==a?void 0:a.date)?void 0:d.today)?u:new Date},this.settings={lang:null!=(h=null==(v=null==a?void 0:a.settings)?void 0:v.lang)?h:"en",iso8601:null==(g=null==(p=null==a?void 0:a.settings)?void 0:p.iso8601)||g,range:{min:null!=(y=null==(f=null==(m=null==a?void 0:a.settings)?void 0:m.range)?void 0:f.min)?y:this.date.min,max:null!=(w=null==(S=null==(C=null==a?void 0:a.settings)?void 0:C.range)?void 0:S.max)?w:this.date.max,disablePast:null!=(M=null==(D=null==(b=null==a?void 0:a.settings)?void 0:b.range)?void 0:D.disablePast)&&M,disableGaps:null!=(k=null==(N=null==(T=null==a?void 0:a.settings)?void 0:T.range)?void 0:N.disableGaps)&&k,disableWeekday:null!=(L=null==(_=null==(x=null==a?void 0:a.settings)?void 0:x.range)?void 0:_.disableWeekday)?L:[],disabled:null!=(A=null==(H=null==(U=null==a?void 0:a.settings)?void 0:U.range)?void 0:H.disabled)?A:null,enabled:null!=(F=null==(q=null==(E=null==a?void 0:a.settings)?void 0:E.range)?void 0:q.enabled)?F:null},selection:{day:null!=(I=null==(O=null==(P=null==a?void 0:a.settings)?void 0:P.selection)?void 0:O.day)?I:"single",month:null==(K=null==(R=null==(B=null==a?void 0:a.settings)?void 0:B.selection)?void 0:R.month)||K,year:null==(ae=null==(ne=null==(V=null==a?void 0:a.settings)?void 0:V.selection)?void 0:ne.year)||ae,time:null!=(re=null==(le=null==(se=null==a?void 0:a.settings)?void 0:se.selection)?void 0:le.time)&&re,controlTime:null!=(oe=null==(ie=null==(ce=null==a?void 0:a.settings)?void 0:ce.selection)?void 0:ie.controlTime)?oe:"all",stepHours:null!=(ve=null==(ue=null==(de=null==a?void 0:a.settings)?void 0:de.selection)?void 0:ue.stepHours)?ve:1,stepMinutes:null!=(ge=null==(pe=null==(he=null==a?void 0:a.settings)?void 0:he.selection)?void 0:pe.stepMinutes)?ge:1},selected:{dates:null!=(ye=null==(fe=null==(me=null==a?void 0:a.settings)?void 0:me.selected)?void 0:fe.dates)?ye:null,month:null!=(we=null==(Se=null==(Ce=null==a?void 0:a.settings)?void 0:Ce.selected)?void 0:Se.month)?we:null,year:null!=(Me=null==(De=null==(be=null==a?void 0:a.settings)?void 0:be.selected)?void 0:De.year)?Me:null,holidays:null!=(ke=null==(Ne=null==(Te=null==a?void 0:a.settings)?void 0:Te.selected)?void 0:Ne.holidays)?ke:null,time:null!=(Le=null==(_e=null==(xe=null==a?void 0:a.settings)?void 0:xe.selected)?void 0:_e.time)?Le:null},visibility:{monthShort:null==(Ae=null==(He=null==(Ue=null==a?void 0:a.settings)?void 0:Ue.visibility)?void 0:He.monthShort)||Ae,weekNumbers:null!=(qe=null==(Ye=null==(Ee=null==a?void 0:a.settings)?void 0:Ee.visibility)?void 0:Ye.weekNumbers)&&qe,weekend:null==(Oe=null==(Pe=null==(Fe=null==a?void 0:a.settings)?void 0:Fe.visibility)?void 0:Pe.weekend)||Oe,today:null==(Re=null==(Be=null==(Ie=null==a?void 0:a.settings)?void 0:Ie.visibility)?void 0:Be.today)||Re,disabled:null!=(je=null==(We=null==(Ke=null==a?void 0:a.settings)?void 0:Ke.visibility)?void 0:We.disabled)&&je,daysOutside:null==(Xe=null==(ze=null==(Je=null==a?void 0:a.settings)?void 0:Je.visibility)?void 0:ze.daysOutside)||Xe}},this.locale={months:null!=(Qe=null==(Ge=null==a?void 0:a.locale)?void 0:Ge.months)?Qe:[],weekday:null!=($e=null==(Ve=null==a?void 0:a.locale)?void 0:Ve.weekday)?$e:[]},this.actions={clickDay:null!=(et=null==(Ze=null==a?void 0:a.actions)?void 0:Ze.clickDay)?et:null,clickWeekNumber:null!=(nt=null==(tt=null==a?void 0:a.actions)?void 0:tt.clickWeekNumber)?nt:null,clickMonth:null!=(st=null==(at=null==a?void 0:a.actions)?void 0:at.clickMonth)?st:null,clickYear:null!=(rt=null==(lt=null==a?void 0:a.actions)?void 0:lt.clickYear)?rt:null,clickArrow:null!=(it=null==(ct=null==a?void 0:a.actions)?void 0:ct.clickArrow)?it:null,changeTime:null!=(dt=null==(ot=null==a?void 0:a.actions)?void 0:ot.changeTime)?dt:null},this.popups=null!=(ut=null==a?void 0:a.popups)?ut:null,this.CSSClasses=(St=function(e,t){for(var n in t||(t={}))Z.call(t,n)&&te(e,n,t[n]);var a=!0,s=!1,l=void 0;if($)try{for(var r,c=$(t)[Symbol.iterator]();!(a=(r=c.next()).done);a=!0)n=r.value,ee.call(t,n)&&te(e,n,t[n])}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return e}({},Q),Object.keys(Q).forEach((function(e){var t;(null==(t=null==a?void 0:a.CSSClasses)?void 0:t[e])?St[e]=a.CSSClasses[e]:St[e]=Q[e]})),St),this.DOMTemplates={default:null!=(ht=null==(vt=null==a?void 0:a.DOMTemplates)?void 0:vt.default)?ht:j(this.CSSClasses),multiple:null!=(gt=null==(pt=null==a?void 0:a.DOMTemplates)?void 0:pt.multiple)?gt:J(this.CSSClasses),month:null!=(ft=null==(mt=null==a?void 0:a.DOMTemplates)?void 0:mt.month)?ft:z(this.CSSClasses),year:null!=(Ct=null==(yt=null==a?void 0:a.DOMTemplates)?void 0:yt.year)?Ct:G(this.CSSClasses)},this.currentType=this.type,this.selectedKeeping=null,this.userTime=!1)};window.VanillaCalendar=ne;var ae=ne;return n}());N=s("fivgP"),i=s("bpdv1"),c=s("eFrT6"),o=s("79A4R");new(e(z))("#calendar").init();var G=document.querySelector("#date"),Q=document.querySelector("#calendar-container"),V=document.querySelector("#calendar"),$=document.querySelector(".gallery-container"),Z=document.querySelector(".date-container"),ee=(new Date).toLocaleDateString().split(".").join("/");function te(e){e.composedPath().includes(Z)||(Q.classList.add("is-hidden"),document.removeEventListener("click",te))}function ne(){return(ne=e(l)(e(r).mark((function t(n){var a,s,l,d,u,v,h;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.hasAttribute("data-calendar-day")){e.next=47;break}if(a=n.target.getAttribute("data-calendar-day"),s=new Date,!(new Date(a).getTime()>s.getTime())){e.next=7;break}return N.Report.info("Choose other date!"),e.abrupt("return");case 7:if(c.fetchNews.setDate(a.split("-").join("")),l=a.split("-").reverse().join("/"),G.value=l,Q.classList.add("is-hidden"),(0,o.deleteNewsCards)(),D(),i.spinner.spin(document.body),!c.fetchNews.getUrl().includes("articlesearch")){e.next=34;break}return c.fetchNews.resetData(),e.prev=16,e.next=19,c.fetchNews.fetchNewsByDate();case 19:if((d=e.sent).data.response.docs.length){e.next=23;break}return le(),e.abrupt("return");case 23:c.fetchNews.setHits(d.data.response.meta.hits),u=d.data,ae(u.response.docs),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(16),console.log(e.t0),i.spinner.stop();case 32:e.next=47;break;case 34:if(!c.fetchNews.getUrl().includes("content")){e.next=42;break}if((v=c.fetchNews.getCategoryData().filter((function(e){return l===e.pubDate}))).length){e.next=39;break}return le(),e.abrupt("return");case 39:se(v),e.next=47;break;case 42:if((h=c.fetchNews.getStorageData().filter((function(e){return l===e.pubDate}))).length){e.next=46;break}return le(),e.abrupt("return");case 46:se(h);case 47:i.spinner.stop();case 48:case"end":return e.stop()}}),t,null,[[16,28]])})))).apply(this,arguments)}function ae(e){(0,o.saveSearchData)(e),(0,o.renderNewsCards)(),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!0),(0,o.addClassesForCoincidencesMarkupAndStorage)()}function se(e){!function(e){for(var t=[],n=0;n<e.length&&!(n>=8);n++)t.push(e[n]);var a=t.reduce((function(e,t){return e+='<div class="news-card" news-id="'.concat(t.id,'">\n      <div class="news-card__img">\n        <p class="news-card__theme">').concat(t.category,'</p>\n        <img\n          class="news-card__item"\n          src="').concat(t.imgUrl,'"\n          alt="').concat(t.imgDescr?t.imgDescr:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n          <label for="favorite" id="').concat(t.id,'" class="label-favorite">Add to favorite</label>\n          <input type="checkbox" class="input-favorite" id="favorite"/>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title.limit(50,{ending:""}),'</h2>\n      <p class="news-card__info-text">').concat(t.description.limit(120),'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.pubDate,'</p>\n        <a class="news-card__more" href="').concat(t.url,'" id="').concat(t.id,'"target="_blank" rel="noreferrer noopener">Read more</a>\n      </div>\n    </div>')}),"");$.insertAdjacentHTML("beforeend",a)}(e),c.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),c.fetchNews.setIsUrlRequest(!1),(0,o.addClassesForCoincidencesMarkupAndStorage)()}function le(){console.log("нічого не знайдено"),i.spinner.stop()}G.placeholder=ee,G.addEventListener("click",(function(){Q.classList.remove("is-hidden"),document.addEventListener("click",te)})),V.addEventListener("click",(function(e){return ne.apply(this,arguments)}));o=s("79A4R");var re=document.querySelector(".gallery-container");function ce(e){localStorage.setItem(e,JSON.stringify([]))}null===localStorage.getItem("favourites")&&ce("favourites"),null===localStorage.getItem("read more")&&ce("read more"),re.addEventListener("click",(function(e){if("checkbox"===e.target.type){e.target.parentNode.children[0].classList.toggle("js-favourite-storage");var t=e.target.parentNode.parentNode.parentNode,n={id:t.attributes[1].nodeValue,img:t.children[0].children[1].src,alt:t.children[0].children[1].alt,title:t.children[1].textContent,descr:t.children[2].textContent,dateArticle:t.children[3].children[0].textContent,link:t.children[3].children[1].href,category:t.children[0].children[0].textContent},a=(0,o.getStorageList)("favourites");!function(e,t,n){if(e){var a=t.findIndex((function(e){return e.id===n.id}));t.splice(a,1),localStorage.setItem("favourites",JSON.stringify(t))}else t.push(n),localStorage.setItem("favourites",JSON.stringify(t))}(a.some((function(e){return e.id===n.id})),a,n)}if("Read more"===e.target.textContent){e.target.classList.add("js-read-more-storage");var s=e.target.parentNode.parentNode,l={date:(c=new Date,c.getTime()),id:s.attributes[1].nodeValue,img:s.children[0].children[1].src,alt:s.children[0].children[1].alt,title:s.children[1].textContent,descr:s.children[2].textContent,dateArticle:s.children[3].children[0].textContent,link:s.children[3].children[1].href,category:s.children[0].children[0].textContent},r=(0,o.getStorageList)("read more");!function(e,t,n){if(e){var a=t.findIndex((function(e){return e.id===n.id}));t.splice(a,1),t.push(n),localStorage.setItem("read more",JSON.stringify(t))}else t.push(n),localStorage.setItem("read more",JSON.stringify(t))}(r.some((function(e){return e.id===l.id})),r,l)}var c}))}();
//# sourceMappingURL=index.84c092d4.js.map
