{"mappings":"gfAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,0BAQME,EAAUC,SAASC,cAAc,uBAKvC,WAEEC,EAAAC,QAAQC,KAAKJ,SAASK,MACtB,IACE,IAAMC,EAAcC,aAAaC,QAAQ,cACnCC,EAAiBC,KAAKC,MAAML,GAClC,GAAuB,OAAnBG,EAEF,YADAP,EAAAC,QAAQS,OAE2B,IAA1BH,EAAeI,QACxBX,EAAAC,QAAQS,OACRE,EAAAC,OAAOC,KAAK,oCAeVC,GAHgB,EAAAnB,EAAAoB,gBAAe,cAGRC,QAAO,SAACC,EAAKC,GA0BxC,OAzBAD,GAAO,mCAE2BE,OAFQD,EAAGE,GAAG,gFAKnCD,OAHqBD,EAAGG,SAAS,0EAIjCF,OADAD,EAAGI,IAAI,sBAOdH,OANOD,EAAGK,IAAML,EAAGK,IAAM,QAAQ,qIAUDJ,OAJhCD,EAAGE,GACJ,oIAI+BD,OADED,EAAGM,MAAM,iDAGdL,OAFGD,EAAGO,MAAMC,MAAM,KAAK,wFAGjBP,OADND,EAAGS,YAAY,mDAE9CR,OADqCD,EAAGU,KAAK,UAE9CT,OADCD,EAAGE,GACJ,uF,GAIC,IAEJxB,EAAQiC,mBAAmB,YAAaf,GAzCpCf,EAAAC,QAAQS,O,CAEV,MAAOqB,GACPC,QAAQC,IAAIF,E,CAIhB,IAKQhB,C,CA7BRmB,IACA,EAAAtC,EAAAuC,kDCXAvC,EAAAD,EAAA,aAOMyC,EAAStC,SAASuC,eAAe,eACjCC,EAAYxC,SAASC,cAAc,sBAEzCqC,EAAOG,iBAAiB,UAExB,SAAsBC,GACpBA,EAAEC,kBACF,EAAA7C,EAAA8C,uBACA,IAAMC,EAAcH,EAAEI,OAAOC,SAASC,YAAYC,MAI5CC,GAFM,EAAApD,EAAAoB,gBAAe,cAELiC,QACpB,SAAAC,G,OACEA,EAAIxB,MAAMyB,cAAcC,SAAST,EAAYQ,cAAcE,SAC3DH,EAAI5B,SAAS6B,cAAcC,SAAST,EAAYQ,cAAcE,SAC9DH,EAAIzB,MAAM0B,cAAcC,SAAST,EAAYQ,cAAcE,O,IAG3DL,EAAUrC,OAAS,EAQzB,SAAgB2C,GACd,IAAMvC,EAASuC,EAAIrC,QAAO,SAACC,EAAKC,GA0B9B,OAzBAD,GAAO,mCAE2BE,OAFQD,EAAGE,GAAG,gFAKnCD,OAHqBD,EAAGG,SAAS,0EAIjCF,OADAD,EAAGI,IAAI,sBAOdH,OANOD,EAAGK,IAAML,EAAGK,IAAM,QAAQ,qIAUDJ,OAJhCD,EAAGE,GACJ,oIAI+BD,OADED,EAAGM,MAAM,iDAGdL,OAFGD,EAAGO,MAAMC,MAAM,KAAK,wFAGjBP,OADND,EAAGS,YAAY,mDAE9CR,OADqCD,EAAGU,KAAK,UAE9CT,OADCD,EAAGE,GACJ,uF,GAIC,IAEJiB,EAAUiB,UAAYxC,C,CArCpByC,CAAOR,IAEPV,EAAUiB,UAAY,IACtB,EAAA3D,EAAA6D,uB","sources":["src/favorite.js","src/scripts/favoriteBlock.js","src/scripts/searchNewsfromFavoriteStorage.js"],"sourcesContent":["import './scripts/current';\nimport './scripts/mobileMenu';\nimport './scripts/newsCardFromStorage';\nimport './scripts/favoriteBlock';\nimport './scripts/searchNewsfromFavoriteStorage'\n","import {\n  getStorageList,\n  addClassesForCoincidencesMarkupAndStoragePages,\n} from './commonFunctions'; // імпорт  функції для взяття  данних з сториджу\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { spinner } from './libraries';\n\n// gallery-container - додатковий класс на контейнер в якому малюється розмітка\nconst gallery = document.querySelector('.gallery-container');\n\nonLoadFavorite();\naddClassesForCoincidencesMarkupAndStoragePages();\n\nfunction onLoadFavorite() {\n  // функція загрузки зі сториджа та перевірки парсінгу\n  spinner.spin(document.body);\n  try {\n    const keyFavorite = localStorage.getItem('favourites');\n    const parsedFavorite = JSON.parse(keyFavorite);\n    if (parsedFavorite === null) {\n      spinner.stop();\n      return;\n    } else if (parsedFavorite.length === 0) {\n      spinner.stop();\n      Report.info('You have no favorite news yet!');\n    } else {\n      renderFavouriteCardFromStorage();\n      spinner.stop();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderFavouriteCardFromStorage() {\n  //  функція для отримання масиву з сториджа\n  const arrFavourites = getStorageList('favourites');\n\n  // створюємо строку розмітки\n  const markUp = arrFavourites.reduce((acc, el) => {\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr.limit(180)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  gallery.insertAdjacentHTML('beforeend', markUp);\n}\n","import {\n  getStorageList,\n  showNotFoundMessage,\n  hideNotFoundMessage,\n} from './commonFunctions';\n\n// const inputEl = document.querySelector('.search-input');\nconst formEl = document.getElementById('search-form');\nconst galleryEl = document.querySelector('.gallery-container');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  hideNotFoundMessage();\n  const searchValue = e.target.elements.searchQuery.value;\n\n  const arr = getStorageList('favourites');\n\n  const newArrObj = arr.filter(\n    obj =>\n      obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n  );\n\n  if (newArrObj.length > 0) {\n    render(newArrObj);\n  } else {\n    galleryEl.innerHTML = '';\n    showNotFoundMessage();\n  }\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr.limit(180)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n  // console.log(markUp)\n  galleryEl.innerHTML = markUp;\n}\n"],"names":["parcelRequire","$79A4R","$dc0fceb70a0518f2$var$gallery","document","querySelector","$bpdv1","spinner","spin","body","keyFavorite","localStorage","getItem","parsedFavorite","JSON","parse","stop","length","$fivgP","Report","info","markUp","getStorageList","reduce","acc","el","concat","id","category","img","alt","title","descr","limit","dateArticle","link","insertAdjacentHTML","error","console","log","$dc0fceb70a0518f2$var$onLoadFavorite","addClassesForCoincidencesMarkupAndStoragePages","$52c470f5f42b8517$var$formEl","getElementById","$52c470f5f42b8517$var$galleryEl","addEventListener","e","preventDefault","hideNotFoundMessage","searchValue","target","elements","searchQuery","value","newArrObj","filter","obj","toLowerCase","includes","trim","arr","innerHTML","$52c470f5f42b8517$var$render","showNotFoundMessage"],"version":3,"file":"favorite.089cf67e.js.map"}